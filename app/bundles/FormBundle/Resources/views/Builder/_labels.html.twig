{% set footerContent %}

    <!-- Mapped field -->
    {% if field.mappedObject is not empty and field.mappedField is not empty and mappedFields[field.mappedObject] is defined %}
        {% set objectLabel = field.mappedObject == 'company' ? 'mautic.company.company'|trans|lower : (field.mappedObject == 'contact' ? 'mautic.lead.contact'|trans|lower : field.mappedObject|lower) %}

        {% include '@MauticCore/Helper/_tag.html.twig' with {
            'tags': [{
                'type': 'read-only',
                'color': 'warm-gray',
                'icon': field.mappedObject == 'company' ? 'ri-building-3-line' : (field.mappedObject == 'contact' ? 'ri-contacts-book-line' : 'ri-shape-line'),
                'label': fieldCollection[field.mappedField] is defined ? fieldCollection[field.mappedField].name :
                        (field.mappedObject == 'contact' ? ('mautic.core.' ~ field.mappedField) :
                        (field.mappedObject == 'company' ? ('mautic.lead.field.' ~ field.mappedField) : field.mappedField)),
                'attributes': {
                    'data-toggle': 'tooltip',
                    'title': 'mautic.core.field.mapped.to'|trans({'%object%': objectLabel})
                }
            }]
        } %}
    {% endif %}

    <!-- Field type -->
    {% set typeIcons = {
        'button': 'ri-cursor-fill',
        'captcha': 'ri-shield-check-line',
        'checkboxgrp': 'ri-checkbox-multiple-line',
        'freetext': 'ri-text',
        'freehtml': 'ri-code-line',
        'hidden': 'ri-eye-off-line',
        'lookup': 'ri-search-line',
        'password': 'ri-lock-password-line',
        'pagebreak': 'ri-separator',
        'radiogrp': 'ri-radio-button-line',
        'textarea': 'ri-text-wrap',
        'url': 'ri-link',
        'text': 'ri-input-field',
        'select': 'ri-list-check',
        'country': 'ri-map-pin-line',
        'tel': 'ri-phone-line',
        'email': 'ri-mail-line',
        'date': 'ri-calendar-line',
        'datetime': 'ri-calendar-schedule-line',
        'companyLookup': 'ri-building-line',
        'file': 'ri-file-upload-line'
    } %}

    {% if field.type is defined %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.type.' ~ field.type,
                    icon: typeIcons[field.type] ?? 'ri-input-field',
                    color: 'gray',
                    attributes: {
                        'data-toggle': 'tooltip',
                        'data-original-title': 'mautic.form.field.type'|trans
                    }
                }
            ]
        } %}
    {% endif %}

    <!-- Multiple -->
    {% if field.properties.multiple is defined and field.properties.multiple == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.form.multiple',
                    icon: 'ri-list-check-2',
                    color: 'gray'
                }
            ]
        } %}
    {% endif %}

    {% if field.alwaysDisplay is defined and field.alwaysDisplay %}
        <!-- Always display -->
        {% if field.alwaysDisplay == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.form.always_display',
                    icon: 'ri-eye-line',
                    color: 'green'
                }
            ]
        } %}
        {% endif %}
    {% else %}
        <!-- Show when value exists -->
        {% if field.showWhenValueExists == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.form.show.when.value.exists',
                    icon: 'ri-refresh-fill',
                    color: 'green'
                }
            ]
        } %}
        {% endif %}

        <!-- Show after X submissions -->
        {% if field.showAfterXSubmissions is defined and field.showAfterXSubmissions is not empty %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.hide.if.submission.count'|trans({'%count%': field.showAfterXSubmissions}),
                    icon: 'ri-archive-stack-fill',
                    color: 'green'
                }
            ]
        } %}
        {% endif %}
    {% endif %}

    <!-- Auto fill -->
    {% if field.isAutoFill == 1 %}
    {% include '@MauticCore/Helper/_tag.html.twig' with {
        tags: [
            {
                label: 'mautic.form.field.form.auto_fill',
                icon: 'ri-sparkling-fill',
                color: 'green'
            }
        ]
    } %}
    {% endif %}

    <!-- Required -->
    {% if field.isRequired is defined and field.isRequired == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.core.required',
                    icon: 'ri-asterisk',
                    color: 'red',
                    icon_only: true
                }
            ]
        } %}
    {% endif %}

    <!-- Public -->
    {% if field.properties.public is defined and field.properties.public == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.file.public',
                    icon: 'ri-global-line',
                    color: 'gray'
                }
            ]
        } %}
    {% endif %}

    <!-- Set as profile image -->
    {% if field.properties.profile_image is defined and field.properties.profile_image == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.file.set_as_profile_image',
                    icon: 'ri-user-smile-line',
                    color: 'gray'
                }
            ]
        } %}
    {% endif %}

    <!-- International phone number -->
    {% if field.validation.international is defined and field.validation.international == 1 %}
        {% include '@MauticCore/Helper/_tag.html.twig' with {
            tags: [
                {
                    label: 'mautic.form.field.type.tel.international',
                    icon: 'ri-earth-line',
                    color: 'gray'
                }
            ]
        } %}
    {% endif %}
{% endset %}

{% if footerContent|trim is not empty %}
    <div><hr class="bdr-t ma-0"></div>
    <div class="d-flex ma-sm as-stretch gap-3 ai-center">
        {{ footerContent|raw }}
    </div>
{% endif %}
